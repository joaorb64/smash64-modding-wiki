
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://joaorb64.github.io/smash64-modding-wiki/Wiki/characters/characterRigModification/">
      
      
        <link rel="prev" href="../animationimporting/">
      
      
        <link rel="next" href="../modelimport/">
      
      
      <link rel="icon" href="../../../images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Character Rig creation/update and importing - Smash 64 modding wiki</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#character-rig-creationupdate-and-importing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Smash 64 modding wiki" class="md-header__button md-logo" aria-label="Smash 64 modding wiki" data-md-component="logo">
      
  <img src="../../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Smash 64 modding wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Character Rig creation/update and importing
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/joaorb64/smash64-modding-wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  Wiki

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Smash 64 modding wiki" class="md-nav__button md-logo" aria-label="Smash 64 modding wiki" data-md-component="logo">
      
  <img src="../../../images/logo.png" alt="logo">

    </a>
    Smash 64 modding wiki
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/joaorb64/smash64-modding-wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Wiki
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Wiki
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Getting%20Started/Tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" checked>
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Characters
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Characters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../addingexternalfiletocharacter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adding external files to characters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../animationexporting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Animation Exporting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../animationflags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Animation Flags
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../animationimporting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Animation Importing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Character Rig creation/update and importing
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Character Rig creation/update and importing
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-0-important-info" class="md-nav__link">
    <span class="md-ellipsis">
      Step 0) Important info
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-after-making-your-rig-and-exporting-only-your-skeleton-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1) After making your rig and exporting ONLY your skeleton structure.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-update-the-skipped-parts-bitflag" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2) Update the skipped parts bitflag
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-now-we-need-to-update-the-withheld-parts-section" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3) Now we need to update the withheld parts section.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-fixing-the-withheld-parts-table" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4) Fixing the Withheld Parts Table.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-hex-editing-the-character-file-to-fix-unknown-value-points" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5) Hex editing the character file to fix Unknown Value points
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-hex-editing-the-character-file-to-fix-unknown-value-data" class="md-nav__link">
    <span class="md-ellipsis">
      Step 6) Hex editing the character file to fix Unknown Value Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-fix-the-hurt-boxes" class="md-nav__link">
    <span class="md-ellipsis">
      Step 7) Fix the hurt boxes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 7) Fix the hurt boxes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-7a-hex-editing-the-hurt-boxes" class="md-nav__link">
    <span class="md-ellipsis">
      Step 7A) Hex editing the hurt boxes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-7b-using-an-ide-to-modify-the-hurt-boxes-do-this-before-you-do-hex-edits" class="md-nav__link">
    <span class="md-ellipsis">
      Step 7B) Using an IDE to modify the hurt boxes (DO THIS BEFORE YOU DO HEX EDITS)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-8-importing-the-modified-character-bin" class="md-nav__link">
    <span class="md-ellipsis">
      Step 8) Importing the modified Character Bin
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-9-adjusting-the-hurt-boxes" class="md-nav__link">
    <span class="md-ellipsis">
      Step 9) Adjusting the Hurt boxes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-10-fix-the-shield-pose" class="md-nav__link">
    <span class="md-ellipsis">
      Step 10) Fix the Shield pose
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-11-import-the-characters-model-data" class="md-nav__link">
    <span class="md-ellipsis">
      Step 11) Import the characters model data.
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-12-special-parts" class="md-nav__link">
    <span class="md-ellipsis">
      Step 12) Special Parts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 12) Special Parts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-12a-special-parts-that-already-exist" class="md-nav__link">
    <span class="md-ellipsis">
      Step 12a) Special Parts that already exist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-12b-adding-new-special-parts" class="md-nav__link">
    <span class="md-ellipsis">
      Step 12b) Adding new special parts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modelimport/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Importing character models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../shieldpose/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shield Pose
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transparenttextures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transparent Textures
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Software
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Software
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../software/blender/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blender
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../stages/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Stages
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Stages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stages/stageimport/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stage Importing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Testing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/shieldpose/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shield Pose
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating GFX based on Falcon Punch graphics
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/joaorb64/smash64-modding-wiki/edit/main/docs/Wiki/characters/characterRigModification.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="character-rig-creationupdate-and-importing">Character Rig creation/update and importing</h1>
<h2 id="step-0-important-info">Step 0) Important info</h2>
<p>The rig you end up modifying must follow the basic character structure. It must have proper socket joints for the arms, legs and feet. The rig can also not be any larger than 32 bones. You are limited to HEX 20, Maya Room FBXASC0512, Blender Bone 32. </p>
<h2 id="step-1-after-making-your-rig-and-exporting-only-your-skeleton-structure">Step 1) After making your rig and exporting ONLY your skeleton structure.</h2>
<p>Import Rig
Select your rig and import it. The model should distort to the new rig. Now we need to make Smash 64 accept the new structure.</p>
<figure>
    <img alt="Image title" src="image01_importRigOnly.png" />
    <figcaption></figcaption>
</figure>
<h2 id="step-2-update-the-skipped-parts-bitflag">Step 2) Update the skipped parts bitflag</h2>
<p>We now need to updat ethe skipped parts bitflag. To find it, click attribute editor.</p>
<figure>
    <img alt="Image title" src="image02_EditAttributes.png" />
    <figcaption></figcaption>
</figure>
<figure>
    <img alt="Image title" src="image03_skippedParts.png" />
    <figcaption></figcaption>
</figure>
<p>For the sockets, we need to make sure the correct ones are set. Sockets are the joints on the mesh that can be considered "Containers" so to speak. There is a arm socket, leg socket, and ankle socket. We take the hex value provided and convert it into binary.
Hexadecimal → 1042520000000000
Binary → 00010000 01000010 01010010 00000000 00000000 00000000 00000000 00000000</p>
<p>If we look at this compared to the Bone structure for Mario (Not including top joint)</p>
<table>
<thead>
<tr>
<th>Blender Bone</th>
<th>Part #</th>
<th>Maya Hex/Room</th>
<th>Joint Name Function</th>
<th>Binary Bit Flag</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Part00</td>
<td>FBXASC048</td>
<td>Main bone base</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>Part01</td>
<td>FBXASC049</td>
<td>Hips (No Model attached)</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>Part02</td>
<td>FBXASC050</td>
<td>Chest</td>
<td>0</td>
</tr>
<tr>
<td>3</td>
<td>Part03</td>
<td>FBXASC051</td>
<td>Socket Joint Left Arm</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>Part04</td>
<td>FBXASC052</td>
<td>Left Upper Arm mesh</td>
<td>0</td>
</tr>
<tr>
<td>5</td>
<td>Part05</td>
<td>FBXASC053</td>
<td>Left Lower Arm mesh</td>
<td>0</td>
</tr>
<tr>
<td>6</td>
<td>Part06</td>
<td>FBXASC054</td>
<td>Left Hand</td>
<td>0</td>
</tr>
<tr>
<td>7</td>
<td>Part07</td>
<td>FBXASC055</td>
<td>Neck (No model attached)</td>
<td>0</td>
</tr>
<tr>
<td>8</td>
<td>Part08</td>
<td>FBXASC056</td>
<td>Head</td>
<td>0</td>
</tr>
<tr>
<td>9</td>
<td>Part09</td>
<td>FBXASC057</td>
<td>Socket Joint Right Arm</td>
<td>1</td>
</tr>
<tr>
<td>10</td>
<td>Part0A</td>
<td>FBXASC0490</td>
<td>Right Upper Arm mesh</td>
<td>0</td>
</tr>
<tr>
<td>11</td>
<td>Part0B</td>
<td>FBXASC0491</td>
<td>Right Lower Arm mesh</td>
<td>0</td>
</tr>
<tr>
<td>12</td>
<td>Part0C</td>
<td>FBXASC0492</td>
<td>Right Hand</td>
<td>0</td>
</tr>
<tr>
<td>13</td>
<td>Part0D</td>
<td>FBXASC0493</td>
<td>item joint (Where items are attached to)</td>
<td>0</td>
</tr>
<tr>
<td>14</td>
<td>Part0E</td>
<td>FBXASC0494</td>
<td>Socket Left Joint leg</td>
<td>1</td>
</tr>
<tr>
<td>15</td>
<td>Part0F</td>
<td>FBXASC0495</td>
<td>Left Upper Leg mesh</td>
<td>0</td>
</tr>
<tr>
<td>16</td>
<td>Part10</td>
<td>FBXASC0496</td>
<td>Left Lower Leg mesh</td>
<td>0</td>
</tr>
<tr>
<td>17</td>
<td>Part11</td>
<td>FBXASC0497</td>
<td>Left Ankle Joint</td>
<td>1</td>
</tr>
<tr>
<td>18</td>
<td>Part12</td>
<td>FBXASC0498</td>
<td>Left Foot</td>
<td>0</td>
</tr>
<tr>
<td>19</td>
<td>Part13</td>
<td>FBXASC0499</td>
<td>Socket Right Joint leg</td>
<td>1</td>
</tr>
<tr>
<td>20</td>
<td>Part14</td>
<td>FBXASC0500</td>
<td>Right Upper Leg mesh</td>
<td>0</td>
</tr>
<tr>
<td>21</td>
<td>Part15</td>
<td>FBXASC0501</td>
<td>Right Lower Leg mesh</td>
<td>0</td>
</tr>
<tr>
<td>22</td>
<td>Part16</td>
<td>FBXASC0502</td>
<td>Right Ankle Joint</td>
<td>1</td>
</tr>
<tr>
<td>23</td>
<td>Part17</td>
<td>FBXASC0503</td>
<td>Right Foot</td>
<td>0</td>
</tr>
<tr>
<td>24</td>
<td>Part18</td>
<td>FBXASC0504</td>
<td>Large item joint</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>For Brain, the flags are updated as such</p>
<table>
<thead>
<tr>
<th>Blender Bone</th>
<th>Part #</th>
<th>Maya Hex/Room</th>
<th>Joint Name Function</th>
<th>Binary Bit Flag</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Part00</td>
<td>FBXASC048</td>
<td>Main bone base</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>Part01</td>
<td>FBXASC049</td>
<td>Hips (No Model attached)</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>Part02</td>
<td>FBXASC050</td>
<td>Chest</td>
<td>0</td>
</tr>
<tr>
<td>3</td>
<td>Part03</td>
<td>FBXASC051</td>
<td>Socket Joint Left Arm</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>Part04</td>
<td>FBXASC052</td>
<td>Left Upper Arm mesh</td>
<td>0</td>
</tr>
<tr>
<td>5</td>
<td>Part05</td>
<td>FBXASC053</td>
<td>Left Lower Arm mesh</td>
<td>0</td>
</tr>
<tr>
<td>6</td>
<td>Part06</td>
<td>FBXASC054</td>
<td>Left Hand</td>
<td>0</td>
</tr>
<tr>
<td>7</td>
<td>Part07</td>
<td>FBXASC055</td>
<td>item joint (Where items are attached to)</td>
<td>0</td>
</tr>
<tr>
<td>8</td>
<td>Part08</td>
<td>FBXASC056</td>
<td>Potential Witheld Magic Part</td>
<td>0</td>
</tr>
<tr>
<td>9</td>
<td>Part09</td>
<td>FBXASC057</td>
<td>Neck (No model attached)</td>
<td>0</td>
</tr>
<tr>
<td>10</td>
<td>Part0A</td>
<td>FBXASC0490</td>
<td>Head</td>
<td>0</td>
</tr>
<tr>
<td>11</td>
<td>Part0B</td>
<td>FBXASC0491</td>
<td>Hair mesh</td>
<td>0</td>
</tr>
<tr>
<td>12</td>
<td>Part0C</td>
<td>FBXASC0492</td>
<td>Cape upper Mesh</td>
<td>0</td>
</tr>
<tr>
<td>13</td>
<td>Part0D</td>
<td>FBXASC0493</td>
<td>Cape Lower Mesh</td>
<td>0</td>
</tr>
<tr>
<td>14</td>
<td>Part0E</td>
<td>FBXASC0494</td>
<td>Socket Joint Right Arm</td>
<td>1</td>
</tr>
<tr>
<td>15</td>
<td>Part0F</td>
<td>FBXASC0495</td>
<td>Right Upper Arm mesh</td>
<td>0</td>
</tr>
<tr>
<td>16</td>
<td>Part10</td>
<td>FBXASC0496</td>
<td>Right Lower Arm mesh</td>
<td>0</td>
</tr>
<tr>
<td>17</td>
<td>Part11</td>
<td>FBXASC0497</td>
<td>Right Hand</td>
<td>0</td>
</tr>
<tr>
<td>18</td>
<td>Part12</td>
<td>FBXASC0498</td>
<td>Staff Mesh</td>
<td>0</td>
</tr>
<tr>
<td>19</td>
<td>Part13</td>
<td>FBXASC0499</td>
<td>Potential Withheld Magic Part</td>
<td>0</td>
</tr>
<tr>
<td>20</td>
<td>Part14</td>
<td>FBXASC0500</td>
<td>Socket Left Joint leg</td>
<td>1</td>
</tr>
<tr>
<td>21</td>
<td>Part15</td>
<td>FBXASC0501</td>
<td>Left Upper Leg mesh</td>
<td>0</td>
</tr>
<tr>
<td>22</td>
<td>Part16</td>
<td>FBXASC0502</td>
<td>Left Lower Leg mesh</td>
<td>0</td>
</tr>
<tr>
<td>23</td>
<td>Part17</td>
<td>FBXASC0503</td>
<td>Left Ankle Joint</td>
<td>1</td>
</tr>
<tr>
<td>24</td>
<td>Part18</td>
<td>FBXASC0504</td>
<td>Left Foot</td>
<td>0</td>
</tr>
<tr>
<td>25</td>
<td>Part19</td>
<td>FBXASC0505</td>
<td>Socket Right Joint leg</td>
<td>1</td>
</tr>
<tr>
<td>26</td>
<td>Part1A</td>
<td>FBXASC0506</td>
<td>Right Upper Leg mesh</td>
<td>0</td>
</tr>
<tr>
<td>27</td>
<td>Part1B</td>
<td>FBXASC0507</td>
<td>Right Lower Leg mesh</td>
<td>0</td>
</tr>
<tr>
<td>28</td>
<td>Part1C</td>
<td>FBXASC0508</td>
<td>Right Ankle Joint</td>
<td>1</td>
</tr>
<tr>
<td>29</td>
<td>Part1D</td>
<td>FBXASC0509</td>
<td>Right Foot</td>
<td>0</td>
</tr>
<tr>
<td>30</td>
<td>Part1E</td>
<td>FBXASC0510</td>
<td>Large item joint</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Binary → 00010000 00000010 00001001 01001000 00000000 00000000 00000000 00000000
Hexadecimal → 1002094800000000</p>
<h2 id="step-3-now-we-need-to-update-the-withheld-parts-section">Step 3) Now we need to update the withheld parts section.</h2>
<p>We have to take that withheld part and set it to the new bone structure.
So we need to modify the withheld bitflag</p>
<figure>
    <img alt="Image title" src="image04_withheldbitflag.png" />
    <figcaption></figcaption>
</figure>
<p>"withheld part bitflag" convert it the hex to binary using https://www.asciitohex.com/
going down from the hierarchy, disable any joint you've added
ex  if you have arm-arm2-arm3 head-head2-head3(new) arm-arm2-arm3 you'd disable it in the bit flag so it will look something like 111110111 where 0 is disabled and 1 is enabled</p>
<p>Our goal Is 2 fold. Making sure all withheld parts are accounted for and making sure all animations are mapped to the correct bones. This is a two step process. </p>
<p>For the first step, we want to set ALL new added bones to withheld parts, being setting them to 0. Make sure it matches the old structure. Even if some bones have gain a new purpose (such as for Brian, the staff bone being the old item joint)</p>
<p>Lets Break these down again for instruction:</p>
<p>Withheld → FFFFFF0000000000
Binary → 11111111 11111111 11111111 00000000 00000000 00000000 00000000 00000000</p>
<table>
<thead>
<tr>
<th>Blender Bone</th>
<th>Part #</th>
<th>Maya Hex/Room</th>
<th>Joint Name Function</th>
<th>Binary Bit Flag</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Part00</td>
<td>FBXASC048</td>
<td>Main bone base</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>Part01</td>
<td>FBXASC049</td>
<td>Hips (No Model attached)</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>Part02</td>
<td>FBXASC050</td>
<td>Chest</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>Part03</td>
<td>FBXASC051</td>
<td>Socket Joint Left Arm</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>Part04</td>
<td>FBXASC052</td>
<td>Left Upper Arm mesh</td>
<td>1</td>
</tr>
<tr>
<td>5</td>
<td>Part05</td>
<td>FBXASC053</td>
<td>Left Lower Arm mesh</td>
<td>1</td>
</tr>
<tr>
<td>6</td>
<td>Part06</td>
<td>FBXASC054</td>
<td>Left Hand</td>
<td>1</td>
</tr>
<tr>
<td>7</td>
<td>Part07</td>
<td>FBXASC055</td>
<td>Neck (No model attached)</td>
<td>1</td>
</tr>
<tr>
<td>8</td>
<td>Part08</td>
<td>FBXASC056</td>
<td>Head</td>
<td>1</td>
</tr>
<tr>
<td>9</td>
<td>Part09</td>
<td>FBXASC057</td>
<td>Socket Joint Right Arm</td>
<td>1</td>
</tr>
<tr>
<td>10</td>
<td>Part0A</td>
<td>FBXASC0490</td>
<td>Right Upper Arm mesh</td>
<td>1</td>
</tr>
<tr>
<td>11</td>
<td>Part0B</td>
<td>FBXASC0491</td>
<td>Right Lower Arm mesh</td>
<td>1</td>
</tr>
<tr>
<td>12</td>
<td>Part0C</td>
<td>FBXASC0492</td>
<td>Right Hand</td>
<td>1</td>
</tr>
<tr>
<td>13</td>
<td>Part0D</td>
<td>FBXASC0493</td>
<td>item joint (Where items are attached to)</td>
<td>1</td>
</tr>
<tr>
<td>14</td>
<td>Part0E</td>
<td>FBXASC0494</td>
<td>Socket Left Joint leg</td>
<td>1</td>
</tr>
<tr>
<td>15</td>
<td>Part0F</td>
<td>FBXASC0495</td>
<td>Left Upper Leg mesh</td>
<td>1</td>
</tr>
<tr>
<td>16</td>
<td>Part10</td>
<td>FBXASC0496</td>
<td>Left Lower Leg mesh</td>
<td>1</td>
</tr>
<tr>
<td>17</td>
<td>Part11</td>
<td>FBXASC0497</td>
<td>Left Ankle Joint</td>
<td>1</td>
</tr>
<tr>
<td>18</td>
<td>Part12</td>
<td>FBXASC0498</td>
<td>Left Foot</td>
<td>1</td>
</tr>
<tr>
<td>19</td>
<td>Part13</td>
<td>FBXASC0499</td>
<td>Socket Right Joint leg</td>
<td>1</td>
</tr>
<tr>
<td>20</td>
<td>Part14</td>
<td>FBXASC0500</td>
<td>Right Upper Leg mesh</td>
<td>1</td>
</tr>
<tr>
<td>21</td>
<td>Part15</td>
<td>FBXASC0501</td>
<td>Right Lower Leg mesh</td>
<td>1</td>
</tr>
<tr>
<td>22</td>
<td>Part16</td>
<td>FBXASC0502</td>
<td>Right Ankle Joint</td>
<td>1</td>
</tr>
<tr>
<td>23</td>
<td>Part17</td>
<td>FBXASC0503</td>
<td>Right Foot</td>
<td>1</td>
</tr>
<tr>
<td>24</td>
<td>Part18</td>
<td>FBXASC0504</td>
<td>Large item joint</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Update the binary to this temporary bone structure.  </p>
<table>
<thead>
<tr>
<th>Blender Bone</th>
<th>Part #</th>
<th>Maya Hex/Room</th>
<th>Joint Name Function</th>
<th>Binary Bit Flag</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Part00</td>
<td>FBXASC048</td>
<td>Main bone base</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>Part01</td>
<td>FBXASC049</td>
<td>Hips (No Model attached)</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>Part02</td>
<td>FBXASC050</td>
<td>Chest</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>Part03</td>
<td>FBXASC051</td>
<td>Socket Joint Left Arm</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>Part04</td>
<td>FBXASC052</td>
<td>Left Upper Arm mesh</td>
<td>1</td>
</tr>
<tr>
<td>5</td>
<td>Part05</td>
<td>FBXASC053</td>
<td>Left Lower Arm mesh</td>
<td>1</td>
</tr>
<tr>
<td>6</td>
<td>Part06</td>
<td>FBXASC054</td>
<td>Left Hand</td>
<td>1</td>
</tr>
<tr>
<td>7</td>
<td>Part07</td>
<td>FBXASC055</td>
<td>item joint (Where items are attached to)</td>
<td>0</td>
</tr>
<tr>
<td>8</td>
<td>Part08</td>
<td>FBXASC056</td>
<td>Potential Witheld Magic Part</td>
<td>0</td>
</tr>
<tr>
<td>9</td>
<td>Part09</td>
<td>FBXASC057</td>
<td>Neck (No model attached)</td>
<td>1</td>
</tr>
<tr>
<td>10</td>
<td>Part0A</td>
<td>FBXASC0490</td>
<td>head</td>
<td>1</td>
</tr>
<tr>
<td>11</td>
<td>Part0B</td>
<td>FBXASC0491</td>
<td>Hair mesh</td>
<td>0</td>
</tr>
<tr>
<td>12</td>
<td>Part0C</td>
<td>FBXASC0492</td>
<td>Cape Upper Mesh</td>
<td>0</td>
</tr>
<tr>
<td>13</td>
<td>Part0D</td>
<td>FBXASC0493</td>
<td>Cape Lower Mesh</td>
<td>0</td>
</tr>
<tr>
<td>14</td>
<td>Part0E</td>
<td>FBXASC0494</td>
<td>Socket Joint Right arm</td>
<td>1</td>
</tr>
<tr>
<td>15</td>
<td>Part0F</td>
<td>FBXASC0495</td>
<td>Right Upper Arm mesh</td>
<td>1</td>
</tr>
<tr>
<td>16</td>
<td>Part10</td>
<td>FBXASC0496</td>
<td>Right Lower Arm mesh</td>
<td>1</td>
</tr>
<tr>
<td>17</td>
<td>Part11</td>
<td>FBXASC0497</td>
<td>Right Hand</td>
<td>1</td>
</tr>
<tr>
<td>18</td>
<td>Part12</td>
<td>FBXASC0498</td>
<td>Staff Mesh</td>
<td>1</td>
</tr>
<tr>
<td>19</td>
<td>Part13</td>
<td>FBXASC0499</td>
<td>Potential Withheld Magic Part</td>
<td>0</td>
</tr>
<tr>
<td>20</td>
<td>Part14</td>
<td>FBXASC0500</td>
<td>Socket Left Joint leg</td>
<td>1</td>
</tr>
<tr>
<td>21</td>
<td>Part15</td>
<td>FBXASC0501</td>
<td>Left Upper Leg mesh</td>
<td>1</td>
</tr>
<tr>
<td>22</td>
<td>Part16</td>
<td>FBXASC0502</td>
<td>Left Lower Leg mesh</td>
<td>1</td>
</tr>
<tr>
<td>23</td>
<td>Part17</td>
<td>FBXASC0503</td>
<td>Left Ankle Joint</td>
<td>1</td>
</tr>
<tr>
<td>24</td>
<td>Part18</td>
<td>FBXASC0504</td>
<td>Left Foot</td>
<td>1</td>
</tr>
<tr>
<td>25</td>
<td>Part19</td>
<td>FBXASC0505</td>
<td>Socket Right Joint leg</td>
<td>1</td>
</tr>
<tr>
<td>26</td>
<td>Part1A</td>
<td>FBXASC0506</td>
<td>Right Upper Leg mesh</td>
<td>1</td>
</tr>
<tr>
<td>27</td>
<td>Part1B</td>
<td>FBXASC0507</td>
<td>Right Lower Leg mesh</td>
<td>1</td>
</tr>
<tr>
<td>28</td>
<td>Part1C</td>
<td>FBXASC0508</td>
<td>Right Ankle Joint</td>
<td>1</td>
</tr>
<tr>
<td>29</td>
<td>Part1D</td>
<td>FBXASC0509</td>
<td>Right Foot</td>
<td>1</td>
</tr>
<tr>
<td>30</td>
<td>Part1E</td>
<td>FBXASC0510</td>
<td>Large item joint</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Binary → 11111110 01100011 11101111 11111100 00000000 00000000 00000000 00000000
Hexadecimal → fe63effc00000000</p>
<p>Update the new withheld parts and close. This structure is specifically used to export old animations for us to reimport. Given we changed the rig, the editor is putting specific animations to the old bones, which will cause a crash. By using this temporary structure, we are exporting the animations in a way for the editor to place them on the correct bone.</p>
<p>Export all animations. As they are messed up and we need to reset them.</p>
<figure>
    <img alt="Image title" src="image05_exportanimations.png" />
    <figcaption></figcaption>
</figure>
<figure>
    <img alt="Image title" src="image06_animationdumpfolder.png" />
    <figcaption></figcaption>
</figure>
<p>After that, we update the withheld attribute again to the final rigs proper withheld position. For Brian I added in two magic bones that would be called in for attacks. One on each arm. Those are truly withheld parts, so the new value would be</p>
<table>
<thead>
<tr>
<th>Blender Bone</th>
<th>Part #</th>
<th>Maya Hex/Room</th>
<th>Joint Name Function</th>
<th>Binary Bit Flag</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Part00</td>
<td>FBXASC048</td>
<td>Main bone base</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>Part01</td>
<td>FBXASC049</td>
<td>Hips (No Model attached)</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>Part02</td>
<td>FBXASC050</td>
<td>Chest</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>Part03</td>
<td>FBXASC051</td>
<td>Socket Joint Left Arm</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>Part04</td>
<td>FBXASC052</td>
<td>Left Upper Arm mesh</td>
<td>1</td>
</tr>
<tr>
<td>5</td>
<td>Part05</td>
<td>FBXASC053</td>
<td>Left Lower Arm mesh</td>
<td>1</td>
</tr>
<tr>
<td>6</td>
<td>Part06</td>
<td>FBXASC054</td>
<td>Left Hand</td>
<td>1</td>
</tr>
<tr>
<td>7</td>
<td>Part07</td>
<td>FBXASC055</td>
<td>item joint (Where items are attached to)</td>
<td>1</td>
</tr>
<tr>
<td>8</td>
<td>Part08</td>
<td>FBXASC056</td>
<td>Potential Witheld Magic Part</td>
<td>0</td>
</tr>
<tr>
<td>9</td>
<td>Part09</td>
<td>FBXASC057</td>
<td>Neck (No model attached)</td>
<td>1</td>
</tr>
<tr>
<td>10</td>
<td>Part0A</td>
<td>FBXASC0490</td>
<td>head</td>
<td>1</td>
</tr>
<tr>
<td>11</td>
<td>Part0B</td>
<td>FBXASC0491</td>
<td>Hair mesh</td>
<td>1</td>
</tr>
<tr>
<td>12</td>
<td>Part0C</td>
<td>FBXASC0492</td>
<td>Cape Upper Mesh</td>
<td>1</td>
</tr>
<tr>
<td>13</td>
<td>Part0D</td>
<td>FBXASC0493</td>
<td>Cape Lower Mesh</td>
<td>1</td>
</tr>
<tr>
<td>14</td>
<td>Part0E</td>
<td>FBXASC0494</td>
<td>Socket Joint Right arm</td>
<td>1</td>
</tr>
<tr>
<td>15</td>
<td>Part0F</td>
<td>FBXASC0495</td>
<td>Right Upper Arm mesh</td>
<td>1</td>
</tr>
<tr>
<td>16</td>
<td>Part10</td>
<td>FBXASC0496</td>
<td>Right Lower Arm mesh</td>
<td>1</td>
</tr>
<tr>
<td>17</td>
<td>Part11</td>
<td>FBXASC0497</td>
<td>Right Hand</td>
<td>1</td>
</tr>
<tr>
<td>18</td>
<td>Part12</td>
<td>FBXASC0498</td>
<td>Staff Mesh</td>
<td>1</td>
</tr>
<tr>
<td>19</td>
<td>Part13</td>
<td>FBXASC0499</td>
<td>Potential Withheld Magic Part</td>
<td>0</td>
</tr>
<tr>
<td>20</td>
<td>Part14</td>
<td>FBXASC0500</td>
<td>Socket Left Joint leg</td>
<td>1</td>
</tr>
<tr>
<td>21</td>
<td>Part15</td>
<td>FBXASC0501</td>
<td>Left Upper Leg mesh</td>
<td>1</td>
</tr>
<tr>
<td>22</td>
<td>Part16</td>
<td>FBXASC0502</td>
<td>Left Lower Leg mesh</td>
<td>1</td>
</tr>
<tr>
<td>23</td>
<td>Part17</td>
<td>FBXASC0503</td>
<td>Left Ankle Joint</td>
<td>1</td>
</tr>
<tr>
<td>24</td>
<td>Part18</td>
<td>FBXASC0504</td>
<td>Left Foot</td>
<td>1</td>
</tr>
<tr>
<td>25</td>
<td>Part19</td>
<td>FBXASC0505</td>
<td>Socket Right Joint leg</td>
<td>1</td>
</tr>
<tr>
<td>26</td>
<td>Part1A</td>
<td>FBXASC0506</td>
<td>Right Upper Leg mesh</td>
<td>1</td>
</tr>
<tr>
<td>27</td>
<td>Part1B</td>
<td>FBXASC0507</td>
<td>Right Lower Leg mesh</td>
<td>1</td>
</tr>
<tr>
<td>28</td>
<td>Part1C</td>
<td>FBXASC0508</td>
<td>Right Ankle Joint</td>
<td>1</td>
</tr>
<tr>
<td>29</td>
<td>Part1D</td>
<td>FBXASC0509</td>
<td>Right Foot</td>
<td>1</td>
</tr>
<tr>
<td>30</td>
<td>Part1E</td>
<td>FBXASC0510</td>
<td>Large item joint</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Binary → 11111111 01111111 11101111 11111100 00000000 00000000 00000000 00000000
Hexadecimal → ff7feffc00000000
And then reimport all the animations again. This will fix the animations, even if some are rotated odd. </p>
<h2 id="step-4-fixing-the-withheld-parts-table">Step 4) Fixing the Withheld Parts Table.</h2>
<p>For this next section, we will be making changes to the bone structure though the editor and through HEX editing. It is important to note for this section and the special parts section later that Smash 64 in-engine will add +4 to the bone ids. This means that when we are adding/editing the rig values, we will need to add +4 to the bone id.</p>
<p>For example, if I am setting the item joint pointer, and it is bone 07, 
then I will set the value to 07+04 = 0B.</p>
<p>Now we want to fix the Withheld parts table. </p>
<p>Click Edit attribute</p>
<figure>
    <img alt="Image title" src="image02_EditAttributes.png" />
    <figcaption></figcaption>
</figure>
<p>We are going to modify the withheld parts section. 
Click Edit attribute</p>
<figure>
    <img alt="Image title" src="image07_awithheldparts.png" />
    <figcaption></figcaption>
</figure>
<p>There will be many parts present in the section, so lets break them down.</p>
<table>
<thead>
<tr>
<th>Part</th>
<th>Animation Flag</th>
</tr>
</thead>
<tbody>
<tr>
<td>Part 0000</td>
<td>Part that correspond to Animation Flags 0x80000000, DONT CHANGE</td>
</tr>
<tr>
<td>Part 0001</td>
<td>Part that correspond to Animation Flags 0x40000000, DONT CHANGE</td>
</tr>
<tr>
<td>Part 0002</td>
<td>Part that correspond to Animation Flags 0x20000000, DONT CHANGE</td>
</tr>
<tr>
<td>Part 0003</td>
<td>This part is associated with the Large Item joint. It is always the final bone in the rig. If we look back to our rig structures above, for MARIO, the large item joint was Part18, which means the value present should be Part18+04 = Part1C. For our rig, it would be Part1E+04 = Part22</td>
</tr>
</tbody>
</table>
<p>For added withheld parts, such as Brian's Potential Witheld Magic Parts, i.e. the ones we set the bitflag to 0 for in prior steps, we need to also set the bone part correct using the above method. While we are updating the correct bone part, remember that the newly added withheld parts also need their parent bones values updated. </p>
<p>For all added withheld parts, the Unknown values are always the same and are as follows:
Unknown 1 - this is always 00000001
Unknown 2 - this is always 00000000
Make sure to update each part.</p>
<table>
<thead>
<tr>
<th>Part</th>
<th>Animation Flag</th>
</tr>
</thead>
<tbody>
<tr>
<td>Part 0004</td>
<td>For our rig, Potential Withheld Magic Part, it would be Part08+04 = Part0C.</td>
</tr>
<tr>
<td>The Parent joint for the added withheld part is Part06+04 = Part0A</td>
<td></td>
</tr>
</tbody>
</table>
<figure>
    <img alt="Image title" src="image08_withheldpartsEx1.png" />
    <figcaption></figcaption>
</figure>
<p>| Part 0005   | For our rig, Potential Withheld Magic Part, it would be Part13+04 = Part17. 
                The Parent joint for the added withheld part is Part12+04 = Part016 |</p>
<figure>
    <img alt="Image title" src="image08_withheldpartsEx2.png" />
    <figcaption></figcaption>
</figure>
<p>Withheld Parts 0003 corresponds to the animation flag 0x10000000, these animation flags are what is responsible for telling the animation to use that withheld part... so for Withheld Parts 0004 the flag would be 0x08000000, and then 0x04000000 for Withheld Parts 0005 etc.</p>
<p>This is important to know for later. Here is a table explaining the concept:</p>
<table>
<thead>
<tr>
<th>Part</th>
<th>Animation Flag</th>
</tr>
</thead>
<tbody>
<tr>
<td>Part 0000</td>
<td>Part that correspond to Animation Flags 0x80000000</td>
</tr>
<tr>
<td>Part 0001</td>
<td>Part that correspond to Animation Flags 0x40000000</td>
</tr>
<tr>
<td>Part 0002</td>
<td>Part that correspond to Animation Flags 0x20000000</td>
</tr>
<tr>
<td>Part 0003</td>
<td>Part that correspond to Animation Flags 0x10000000</td>
</tr>
<tr>
<td>Part 0004</td>
<td>Part that correspond to Animation Flags 0x80000000</td>
</tr>
<tr>
<td>Part 0005</td>
<td>Part that correspond to Animation Flags 0x40000000</td>
</tr>
<tr>
<td>Part 0006</td>
<td>Part that correspond to Animation Flags 0x20000000</td>
</tr>
<tr>
<td>Part 0007</td>
<td>Part that correspond to Animation Flags 0x10000000</td>
</tr>
<tr>
<td>Part 0008</td>
<td>Part that correspond to Animation Flags 0x80000000</td>
</tr>
<tr>
<td>Etc.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="step-5-hex-editing-the-character-file-to-fix-unknown-value-points">Step 5) Hex editing the character file to fix Unknown Value points</h2>
<p>Now we have done most of the work needed in the editor, we must modify the character main file. This will resolve the final issues of the rig.
To get the character main file, we need to go to either the Animation editor and click export main file</p>
<figure>
    <img alt="Image title" src="image09_ExportMainFile.png" />
    <figcaption></figcaption>
</figure>
<p>or go to the Game configuration window and export the main file from there</p>
<figure>
    <img alt="Image title" src="image10_EGameConfigurationMainFile.png" />
    <figcaption></figcaption>
</figure>
<p>Game configuration is how we will import the file after we make our changes.
Export the "Parse DisplayLists to TextFile" button in the "Special Functions" section of the Edit Model window, this text file has some important info in it we can use later.</p>
<figure>
    <img alt="Image title" src="image11_DisplayLists.png" />
    <figcaption></figcaption>
</figure>
<p>in the CharacterDisplayLists.txt file we saved earlier, scroll down to the "Unknown Value Pointers" section:</p>
<figure>
    <img alt="Image title" src="image12_UnkownValueReferences.png" />
    <figcaption></figcaption>
</figure>
<p>in this section we are looking for XXXX (0330): ... Head Part? (-4), this is where the Head Bone ID is defined for dynamic textures, XXXX is the offset in the file so in Brians case we go to 0198 and change the instances of Part08+04 = Part0C to Part0A+04=Part0E since the head bone was changed.</p>
<p>Load the characterMain.bin file we exported into HxD. Also set the word size to 4. Makes it eaiser to read and modify.</p>
<figure>
    <img alt="Image title" src="image13_HXDBtyeSize.png" />
    <figcaption></figcaption>
</figure>
<p>Find the offset we found from the CharacterDisplayLists.txt. For Brian, it was 0198.
HxD is read as the all the numbers up to the last one being the row, i.e. 019X, and the X being the offset. Given X is 8, we are modifying the third column. As we see, 0C is present, which was Mario's head. </p>
<figure>
    <img alt="Image title" src="image14_HXDPointerPosition.png" />
    <figcaption></figcaption>
</figure>
<p>We replace that with 0E, which is Brian's head.</p>
<figure>
    <img alt="Image title" src="image15_HXDUpdate.png" />
    <figcaption></figcaption>
</figure>
<p>If you see multiple 0C values, it means there are multiple textures that are referenced and all need to be updated. Here is an example from a different character rig associated with Brian. </p>
<figure>
    <img alt="Image title" src="image15_HXDUpdate2.png" />
    <figcaption></figcaption>
</figure>
<p>This character file is based on Link. Link has three dynamic textures on his body, being his Both his eyes and his mouth. All those are separate textures, meaning that you have to update the head bone in the three locations. </p>
<p>If one wants to add more dynamic textures to a character, One needs to shift pointers in the rom. For Brian, I do not have any extra dynamic textures, as I only swap his face texture. </p>
<p>For completion sake, I am listing the steps for adding a new dynamic texture hypothetically. If we were to add a new dynamic texture, we need to modify the bone in the character file, adding in the bone and the pointers. </p>
<p>Looking at the Head texture location from before, we see that 0E0000 is your face dynamic texture inherited by Mario. </p>
<figure>
    <img alt="Image title" src="image16_HXDInsertingNewDynamicTexture.png" />
    <figcaption></figcaption>
</figure>
<p>0E - model part 
00 - number of iterations through the texture hierarchy 
00 - not sure but seems to match second byte </p>
<p>If we want another Dynamic face texture, we would insert 0E0101 to the file. Adding multiple dynamic textures would increase the two trailing bytes, i.e. 0E0202, 0E0303, etc. After adding in the new dynamic textures, pad the word til it is 0x4 bytes total.</p>
<p>| 0E00 0000                  | 0E00000E 01010000           |
| 0E00000E 01010000          | 0E00000E 01010E02 02000000  |
| 0E00000E 01010E02 02000000 | 0E00000E 01010E02 020E0303  |</p>
<p>Inserting one new dynamic texture would look something like this.</p>
<figure>
    <img alt="Image title" src="image16_HXDMaterialUpdate.png" />
    <figcaption></figcaption>
</figure>
<p>Notice how all the values after the inserted words have now changed. This means the pointers in the entire file have moved. This needs to be fixed. There is a provided pointerfix script created by Fray that will update all the pointers in your file. Save the character.bin and run the bass program. You have to provide the following in the script.</p>
<p>filename - just the name of the file, not including extension
offset - offset within the file where you are inserting new data
shift - size of the insertion (probably needs to be in increments of 0x4) 
internal_offset - "Internal File Table Offset" in the editor's game configuration window 
external_offset - "Internal File Resource Offset" in the editor's game configuration window </p>
<p>Get the internal offsets from game configuration</p>
<figure>
    <img alt="Image title" src="image17_CharacterOffset.png" />
    <figcaption></figcaption>
</figure>
<p>the command would look like this: fix_pointers(brianmain, 0x198, 0x4, 0x114, 0x0)</p>
<p>If we were to add in multiple dynamic textures, 0x4 would change from 0x4 to 0x8, or 0x12 depending on how many were added.</p>
<p>If you want a dynamic texture on a bone other then the head, add it to the character file in the same location, and run the pointer fix application.</p>
<p>i.e. 0E000015 00000000</p>
<h2 id="step-6-hex-editing-the-character-file-to-fix-unknown-value-data">Step 6) Hex editing the character file to fix Unknown Value Data</h2>
<p>This next section has to do with fixing joints associated with damage types, fixing the shield pose and other rig problems. The format will always be "XXXX (YYYY):" where XXXX is the offset in the file, and YYYY is where that piece of data is in relation to the Attribute Offset, so we mostly care about XXXX. This will help us find where in the file are the parts that we need to change.</p>
<p>these are irrelevant and can be ignored,
XXXX (0290): ????????
XXXX (0294): ????????
XXXX (0298): ????????</p>
<p>we're not sure exactly what these are for but they need to be updated if the rig is modified or certain damage types will crash the game,
XXXX (02A4): head bone id + 4
XXXX (02A8): left wrist bone id + 4
XXXX (02AC): right shin bone id + 4
XXXX (02B0): left shin bone id + 4
XXXX (02B4): right wrist bone id + 4
XXXX (02B8): 00000000 (from here and below is always 0 and can be ignored)
XXXX (02BC): 00000000
XXXX (02C0): 00000000
XXXX (02C4): 00000000
XXXX (02C8): 00000000
XXXX (02CC): 00000000</p>
<p>these are pointers to the shield pose file, if you import a new shield pose then the editor will automatically set up the shield pose pointers 
XXXX (02D8): ????????
XXXX (02DC): ????????
XXXX (02E0): ????????
XXXX (02E4): ????????
XXXX (02E8): ????????
XXXX (02EC): ????????
XXXX (02F0): ????????
XXXX (02F4): ????????
XXXX (02F8): ????????</p>
<p>this final section defines parts used by the slope contour command, and item/shield parts, they need to be updated if the rig is modified
XXXX (02FC): left leg socket bone id + 4
XXXX (0300): ????????
XXXX (0304): right leg socket bone id + 4
XXXX (0308): ????????
XXXX (030C): left shoulder socket bone id + 4
XXXX (0310): ????????
XXXX (0314): right shoulder socket bone id + 4
XXXX (0318): ????????
XXXX (031C): ????????
XXXX (0320): ????????
-
XXXX (0334): "heavy item joint" + 4
-
XXXX (033C): item joint + 4
The way this works is by replacing the bone in the old file with the updated rigs position. This means that if a bone did not move, the value would remain the same. Conversely, if the bone has a different position in the hierarchy, it gets updated.</p>
<p>Lets compare the rigs again:</p>
<table>
<thead>
<tr>
<th>Blender Bone</th>
<th>Part #</th>
<th>Mario Rig</th>
<th>Brian Rig</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Part00</td>
<td>Main bone base</td>
<td>Main bone base</td>
</tr>
<tr>
<td>1</td>
<td>Part01</td>
<td>Hips (No Model attached)</td>
<td>Hips (No Model attached)</td>
</tr>
<tr>
<td>2</td>
<td>Part02</td>
<td>Chest</td>
<td>Chest</td>
</tr>
<tr>
<td>3</td>
<td>Part03</td>
<td>Socket Joint Left Arm</td>
<td>Socket Joint Left Arm</td>
</tr>
<tr>
<td>4</td>
<td>Part04</td>
<td>Left Upper Arm mesh</td>
<td>Left Upper Arm mesh</td>
</tr>
<tr>
<td>5</td>
<td>Part05</td>
<td>Left Lower Arm mesh</td>
<td>Left Lower Arm mesh</td>
</tr>
<tr>
<td>6</td>
<td>Part06</td>
<td>Left Hand</td>
<td>Left Hand</td>
</tr>
<tr>
<td>7</td>
<td>Part07</td>
<td>Neck (No model attached)</td>
<td>item joint (Where items are attached to)</td>
</tr>
<tr>
<td>8</td>
<td>Part08</td>
<td>Head</td>
<td>Potential Witheld Magic Part</td>
</tr>
<tr>
<td>9</td>
<td>Part09</td>
<td>Socket Joint Right Arm</td>
<td>Neck (No model attached)</td>
</tr>
<tr>
<td>10</td>
<td>Part0A</td>
<td>Right Upper Arm mesh</td>
<td>Head</td>
</tr>
<tr>
<td>11</td>
<td>Part0B</td>
<td>Right Lower Arm mesh</td>
<td>Hair mesh</td>
</tr>
<tr>
<td>12</td>
<td>Part0C</td>
<td>Right Hand</td>
<td>Cape upper Mesh</td>
</tr>
<tr>
<td>13</td>
<td>Part0D</td>
<td>item joint</td>
<td>Cape Lower Mesh</td>
</tr>
<tr>
<td>14</td>
<td>Part0E</td>
<td>Socket Left Joint leg</td>
<td>Socket Joint Right Arm</td>
</tr>
<tr>
<td>15</td>
<td>Part0F</td>
<td>Left Upper Leg mesh</td>
<td>Right Upper Arm mesh</td>
</tr>
<tr>
<td>16</td>
<td>Part10</td>
<td>Left Lower Leg mesh</td>
<td>Right Lower Arm mesh</td>
</tr>
<tr>
<td>17</td>
<td>Part11</td>
<td>Left Ankle Joint</td>
<td>Right Hand</td>
</tr>
<tr>
<td>18</td>
<td>Part12</td>
<td>Left Foot</td>
<td>Staff Mesh</td>
</tr>
<tr>
<td>19</td>
<td>Part13</td>
<td>Socket Right Joint leg</td>
<td>Potential Withheld Magic Part</td>
</tr>
<tr>
<td>20</td>
<td>Part14</td>
<td>Right Upper Leg mesh</td>
<td>Socket Left Joint leg</td>
</tr>
<tr>
<td>21</td>
<td>Part15</td>
<td>Right Lower Leg mesh</td>
<td>Left Upper Leg mesh</td>
</tr>
<tr>
<td>22</td>
<td>Part16</td>
<td>Right Ankle Joint</td>
<td>Left Lower Leg mesh</td>
</tr>
<tr>
<td>23</td>
<td>Part17</td>
<td>Right Foot</td>
<td>Left Ankle Joint</td>
</tr>
<tr>
<td>24</td>
<td>Part18</td>
<td>Large item joint</td>
<td>Left Foot</td>
</tr>
<tr>
<td>25</td>
<td>Part19</td>
<td></td>
<td>Socket Right Joint leg</td>
</tr>
<tr>
<td>26</td>
<td>Part1A</td>
<td></td>
<td>Right Upper Leg mesh</td>
</tr>
<tr>
<td>27</td>
<td>Part1B</td>
<td></td>
<td>Right Lower Leg mesh</td>
</tr>
<tr>
<td>28</td>
<td>Part1C</td>
<td></td>
<td>Right Ankle Joint</td>
</tr>
<tr>
<td>29</td>
<td>Part1D</td>
<td></td>
<td>Right Foot</td>
</tr>
<tr>
<td>30</td>
<td>Part1E</td>
<td></td>
<td>Large item joint</td>
</tr>
<tr>
<td>31</td>
<td>Part1F</td>
<td></td>
<td></td>
</tr>
<tr>
<td>32</td>
<td>Part20</td>
<td></td>
<td></td>
</tr>
<tr>
<td>33</td>
<td>Part21</td>
<td>NOT A REAL PART</td>
<td>NOT A REAL PART</td>
</tr>
<tr>
<td>34</td>
<td>Part22</td>
<td>NOT A REAL PART</td>
<td>NOT A REAL PART</td>
</tr>
</tbody>
</table>
<p>We have to remember that the values we are reading are the bones actual position in the rig +4. This means the following needs to happen:</p>
<p>Left Leg socket bone id + 4</p>
<table>
<thead>
<tr>
<th>Mario</th>
<th>Mario Bone-4</th>
<th>Brian-4</th>
<th>Brian</th>
</tr>
</thead>
<tbody>
<tr>
<td>00000017</td>
<td>00000013</td>
<td>00000019</td>
<td>0000001D</td>
</tr>
</tbody>
</table>
<p>Do this process for all values. If a bone did not move, leave it alone. If it did, update it.</p>
<p>For Brian, this would mean the following:</p>
<table>
<thead>
<tr>
<th>Rig Part Information</th>
<th>Mario's Rig Values</th>
<th>Brian's Rig updated Values</th>
</tr>
</thead>
<tbody>
<tr>
<td>head bone id + 4</td>
<td>0734 (02A4): 0000000C</td>
<td>0734 (02A4): 0000000E</td>
</tr>
<tr>
<td>left wrist bone id + 4</td>
<td>0738 (02A8): 0000000F</td>
<td>0738 (02A8): 00000014</td>
</tr>
<tr>
<td>right shin bone id + 4</td>
<td>073C (02AC): 00000014</td>
<td>073C (02AC): 0000001A</td>
</tr>
<tr>
<td>left shin bone id + 4</td>
<td>0740 (02B0): 00000019</td>
<td>0740 (02B0): 0000001F</td>
</tr>
<tr>
<td>right wrist bone id + 4</td>
<td>0744 (02B4): 00000009</td>
<td>0744 (02B4): 00000009 (did not change position)</td>
</tr>
</tbody>
</table>
<p>if you import a new shield pose then the editor will automatically set up the shield pose pointers. the only time you'd need to update them is if you import a new model file over a ROM that doesn't have your sheild pose
XXXX (02D8): ????????
XXXX (02DC): ????????
XXXX (02E0): ????????
XXXX (02E4): ????????
XXXX (02E8): ????????
XXXX (02EC): ????????
XXXX (02F0): ????????
XXXX (02F4): ????????
XXXX (02F8): ????????</p>
<p>Final section for Brian would mean the following:</p>
<table>
<thead>
<tr>
<th>Rig Part Information</th>
<th>Mario's Rig Values</th>
<th>Brian's Rig updated Values</th>
</tr>
</thead>
<tbody>
<tr>
<td>Left leg socket bone id + 4</td>
<td>078C (02FC): 00000017</td>
<td>078C (02FC): 0000001D</td>
</tr>
<tr>
<td>????????</td>
<td>0790 (0300): 42739062</td>
<td>0790 (0300): 42739062</td>
</tr>
<tr>
<td>Right leg socket bone id + 4</td>
<td>0794 (0304): 00000012</td>
<td>0794 (0304): 00000018</td>
</tr>
<tr>
<td>????????</td>
<td>0798 (0308): 42739062</td>
<td>0798 (0308): 42739062</td>
</tr>
<tr>
<td>Left shoulder socket bone id + 4</td>
<td>079C (030C): 0000000D</td>
<td>079C (030C): 00000012</td>
</tr>
<tr>
<td>????????</td>
<td>07A0 (0310): 420FA6E9</td>
<td>07A0 (0310): 420FA6E9</td>
</tr>
<tr>
<td>Right shoulder socket bone id + 4</td>
<td>07A4 (0314): 00000007</td>
<td>07A4 (0314): 00000007 (did not change position)</td>
</tr>
<tr>
<td>XXXX (0318): ????????</td>
<td>07A8 (0318): 420F8B44</td>
<td>07A8 (0318): 420F8B44</td>
</tr>
<tr>
<td>XXXX (031C): ????????</td>
<td>07AC (031C): 42480000</td>
<td>07AC (031C): 42480000</td>
</tr>
<tr>
<td>XXXX (0320): ????????</td>
<td>07B0 (0320): 3F060A92</td>
<td>07B0 (0320): 3F060A92</td>
</tr>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>"heavy item joint" + 4</td>
<td>07C4 (0334): 0000001C</td>
<td>07C4 (0334): 00000022</td>
</tr>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>item joint + 4</td>
<td>07CC (033C): 00000011</td>
<td>07CC (033C): 0000000B (moved to the other hand)</td>
</tr>
</tbody>
</table>
<p>With all of this information, update the character bin file with the new bone values. </p>
<figure>
    <img alt="Image title" src="image18_NewSocketLocations.png" />
    <figcaption></figcaption>
</figure>
<p>Make sure to save.</p>
<h2 id="step-7-fix-the-hurt-boxes">Step 7) Fix the hurt boxes</h2>
<p>There are two approaches that can be taken to fix the bounding boxes. I am going to list both approaches here, but remember, we only need to do one. If you do the export from the editor approach, you need to do the bounding boxes after re-importing the modified character bin file. </p>
<h3 id="step-7a-hex-editing-the-hurt-boxes">Step 7A) Hex editing the hurt boxes</h3>
<p>begin by opening the CharacterDisplayLists.txt file we saved, at the top of the file you will see Main File: (file id) Offset XXXX, this "Offset" is the attribute offset and if we add 0x104 to that we'll have the offset of the first hurtbox:</p>
<p>For Brian, this looks like: Main File: 00CB Offset 0490, 
that means that the first hurt box is found at: 0490+0104 = 0594</p>
<figure>
    <img alt="Image title" src="image19_BoundingBoxesLocations.png" />
    <figcaption></figcaption>
</figure>
<p>The format for hurtboxes looks like this 
00000006 00000001 00000001 00000000 41200000 40800000 42CE0000 42E00000 42BE0000</p>
<p>It can be broken down as follows:
00000006 - bone (remember that this value is the bone +4)
00000001 - damage animation that hurtbox uses 0 = low, 1 = mid, 2 = high 
00000001 - boolean for grabable hurtbox 0 = can't be grabbed, 1 = can be grabbed 
00000000 41200000 40800000 - float32 x/y/z offset 
42CE0000 42E00000 42BE0000 - float32 x/y/z size </p>
<p>For Mario, this first bone is attached to chest. Brian's rig leaves that bone the same. So the bone value does not need updating. The size may however. Increase or decrease the sizes and position as needed. This can only be checked inside Smash Remix itself. </p>
<p>the hurtboxes all appear back to back in the file and there's 11 total, if a character doesn't use all 11 you'll see FFFFFFFF 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 where they end. Mario uses only 10 of the hurt boxes. Whilst Fox uses all 11 hurtboxes.
They often have the following order and format:
LOWER BODY 
UPPER BODY 
HEAD 
RIGHT SHOULDER 
LEFT SHOULDER 
RIGHT FOREARM 
LEFT FOREARM 
RIGHT LEG 
LEFT LEG 
RIGHT SHIN 
LEFT SHIN</p>
<p>Lets look back at our rig again.</p>
<table>
<thead>
<tr>
<th>Blender Bone</th>
<th>Part #</th>
<th>Mario Rig</th>
<th>Brian Rig</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Part00</td>
<td>Main bone base</td>
<td>Main bone base</td>
</tr>
<tr>
<td>1</td>
<td>Part01</td>
<td>Hips (No Model attached)</td>
<td>Hips (No Model attached)</td>
</tr>
<tr>
<td>2</td>
<td>Part02</td>
<td>Chest</td>
<td>Chest</td>
</tr>
<tr>
<td>3</td>
<td>Part03</td>
<td>Socket Joint Left Arm</td>
<td>Socket Joint Left Arm</td>
</tr>
<tr>
<td>4</td>
<td>Part04</td>
<td>Left Upper Arm mesh</td>
<td>Left Upper Arm mesh</td>
</tr>
<tr>
<td>5</td>
<td>Part05</td>
<td>Left Lower Arm mesh</td>
<td>Left Lower Arm mesh</td>
</tr>
<tr>
<td>6</td>
<td>Part06</td>
<td>Left Hand</td>
<td>Left Hand</td>
</tr>
<tr>
<td>7</td>
<td>Part07</td>
<td>Neck (No model attached)</td>
<td>item joint (Where items are attached to)</td>
</tr>
<tr>
<td>8</td>
<td>Part08</td>
<td>Head</td>
<td>Potential Witheld Magic Part</td>
</tr>
<tr>
<td>9</td>
<td>Part09</td>
<td>Socket Joint Right Arm</td>
<td>Neck (No model attached)</td>
</tr>
<tr>
<td>10</td>
<td>Part0A</td>
<td>Right Upper Arm mesh</td>
<td>Head</td>
</tr>
<tr>
<td>11</td>
<td>Part0B</td>
<td>Right Lower Arm mesh</td>
<td>Hair mesh</td>
</tr>
<tr>
<td>12</td>
<td>Part0C</td>
<td>Right Hand</td>
<td>Cape upper Mesh</td>
</tr>
<tr>
<td>13</td>
<td>Part0D</td>
<td>item joint</td>
<td>Cape Lower Mesh</td>
</tr>
<tr>
<td>14</td>
<td>Part0E</td>
<td>Socket Left Joint leg</td>
<td>Socket Joint Right Arm</td>
</tr>
<tr>
<td>15</td>
<td>Part0F</td>
<td>Left Upper Leg mesh</td>
<td>Right Upper Arm mesh</td>
</tr>
<tr>
<td>16</td>
<td>Part10</td>
<td>Left Lower Leg mesh</td>
<td>Right Lower Arm mesh</td>
</tr>
<tr>
<td>17</td>
<td>Part11</td>
<td>Left Ankle Joint</td>
<td>Right Hand</td>
</tr>
<tr>
<td>18</td>
<td>Part12</td>
<td>Left Foot</td>
<td>Staff Mesh</td>
</tr>
<tr>
<td>19</td>
<td>Part13</td>
<td>Socket Right Joint leg</td>
<td>Potential Withheld Magic Part</td>
</tr>
<tr>
<td>20</td>
<td>Part14</td>
<td>Right Upper Leg mesh</td>
<td>Socket Left Joint leg</td>
</tr>
<tr>
<td>21</td>
<td>Part15</td>
<td>Right Lower Leg mesh</td>
<td>Left Upper Leg mesh</td>
</tr>
<tr>
<td>22</td>
<td>Part16</td>
<td>Right Ankle Joint</td>
<td>Left Lower Leg mesh</td>
</tr>
<tr>
<td>23</td>
<td>Part17</td>
<td>Right Foot</td>
<td>Left Ankle Joint</td>
</tr>
<tr>
<td>24</td>
<td>Part18</td>
<td>Large item joint</td>
<td>Left Foot</td>
</tr>
<tr>
<td>25</td>
<td>Part19</td>
<td></td>
<td>Socket Right Joint leg</td>
</tr>
<tr>
<td>26</td>
<td>Part1A</td>
<td></td>
<td>Right Upper Leg mesh</td>
</tr>
<tr>
<td>27</td>
<td>Part1B</td>
<td></td>
<td>Right Lower Leg mesh</td>
</tr>
<tr>
<td>28</td>
<td>Part1C</td>
<td></td>
<td>Right Ankle Joint</td>
</tr>
<tr>
<td>29</td>
<td>Part1D</td>
<td></td>
<td>Right Foot</td>
</tr>
<tr>
<td>30</td>
<td>Part1E</td>
<td></td>
<td>Large item joint</td>
</tr>
<tr>
<td>31</td>
<td>Part1F</td>
<td></td>
<td></td>
</tr>
<tr>
<td>32</td>
<td>Part20</td>
<td></td>
<td></td>
</tr>
<tr>
<td>33</td>
<td>Part21</td>
<td>NOT A REAL PART</td>
<td>NOT A REAL PART</td>
</tr>
<tr>
<td>34</td>
<td>Part22</td>
<td>NOT A REAL PART</td>
<td>NOT A REAL PART</td>
</tr>
</tbody>
</table>
<p>The hurt boxes bone placements and updates are as follows:</p>
<p>00000006 00000001 00000001 00000000 41200000 40800000 42CE0000 42E00000 42BE0000</p>
<p>0000000C 00000002 00000001 00000000 42880000 41000000 43140000 430C0000 430A0000</p>
<p>0000000E 00000001 00000000 41700000 00000000 00000000 42100000 42480000 42480000</p>
<p>00000008 00000001 00000000 41700000 00000000 00000000 42100000 42480000 42480000</p>
<p>0000000F 00000001 00000000 41F00000 00000000 00000000 42680000 42580000 42580000</p>
<p>00000009 00000001 00000000 41F00000 00000000 00000000 42680000 42580000 42580000</p>
<p>00000018 00000000 00000000 41B00000 00000000 00000000 42680000 42860000 42860000</p>
<p>00000013 00000000 00000000 41B00000 00000000 00000000 42680000 42860000 42860000</p>
<p>00000019 00000000 00000000 41E00000 00000000 00000000 42840000 429C0000 42980000</p>
<p>00000014 00000000 00000000 41E00000 00000000 00000000 42840000 429C0000 42980000</p>
<p>FFFFFFFF 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000</p>
<table>
<thead>
<tr>
<th></th>
<th>Mario</th>
<th>Mario Bone-4</th>
<th>Brian-4</th>
<th>Brian</th>
</tr>
</thead>
<tbody>
<tr>
<td>Chest</td>
<td>00000006</td>
<td>00000002</td>
<td>00000002</td>
<td>00000006 (did not change position)</td>
</tr>
<tr>
<td>Head</td>
<td>0000000C</td>
<td>00000008</td>
<td>0000000A</td>
<td>0000000E</td>
</tr>
<tr>
<td>Right Upper arm mesh</td>
<td>0000000E</td>
<td>0000000A</td>
<td>0000000F</td>
<td>00000013</td>
</tr>
<tr>
<td>Left Upper arm mesh</td>
<td>00000008</td>
<td>00000004</td>
<td>00000004</td>
<td>00000008 (did not change position)</td>
</tr>
<tr>
<td>Right Lower arm mesh</td>
<td>0000000F</td>
<td>0000000B</td>
<td>00000010</td>
<td>00000014</td>
</tr>
<tr>
<td>Left Lower arm mesh</td>
<td>00000009</td>
<td>00000005</td>
<td>00000005</td>
<td>00000009 (did not change position)</td>
</tr>
<tr>
<td>Right Upper Leg mesh</td>
<td>00000018</td>
<td>00000014</td>
<td>0000001A</td>
<td>0000001E</td>
</tr>
<tr>
<td>Left Upper Leg mesh</td>
<td>00000013</td>
<td>0000000F</td>
<td>00000015</td>
<td>00000019</td>
</tr>
<tr>
<td>Right Lower Leg Mesh</td>
<td>00000019</td>
<td>00000015</td>
<td>0000001B</td>
<td>0000001F</td>
</tr>
<tr>
<td>Left Lower Leg Mesh</td>
<td>00000014</td>
<td>00000010</td>
<td>00000016</td>
<td>0000001A</td>
</tr>
<tr>
<td>Empty</td>
<td>FFFFFFFF</td>
<td>FFFFFFFF</td>
<td>FFFFFFFF</td>
<td>FFFFFFFF</td>
</tr>
</tbody>
</table>
<p>It is important to fix the bounding box sizes, but for the sake of a solid rig, I am skipping those adjustments for now. There is a seperate section associated with how to adjust the hurt boxes. </p>
<p>Make sure to update every bone to the new values.</p>
<h3 id="step-7b-using-an-ide-to-modify-the-hurt-boxes-do-this-before-you-do-hex-edits">Step 7B) Using an IDE to modify the hurt boxes (DO THIS BEFORE YOU DO HEX EDITS)</h3>
<p>Now that the rig is set up with the proper bones and withheld parts, we have to fix the bounding boxes. Export the bounding box, load into Maya. </p>
<figure>
    <img alt="Image title" src="image20_ExportThroughEditor.png" />
    <figcaption></figcaption>
</figure>
<p>Tweak the boxes, unbind them from the current bones and rebind them to the correct bones. We need to move them to the correct bones. the best approach is to export the model before all the editing. and use it as a reference. Line up the old bones to the new ones, move the box. tweak the size and re-import when done. The best way to remove the rig, but not the box is to goto edit, delete by type history and it will unbind all the boxes. Do this and re import over the character as needed. DO THIS BEFORE YOU DO HEX EDITS.</p>
<figure>
    <img alt="Image title" src="image21_ImportThroughEditor.png" />
    <figcaption></figcaption>
</figure>
<h2 id="step-8-importing-the-modified-character-bin">Step 8) Importing the modified Character Bin</h2>
<p>Once all values are changed. Save the modified file and reimport. To do this, first save your currently edited rom. It is best to not override you original rom. Make a copy.</p>
<figure>
    <img alt="Image title" src="image22_WriteRom.png" />
    <figcaption></figcaption>
</figure>
<p>Now goto game configuration</p>
<figure>
    <img alt="Image title" src="image23_GameConfiguration.png" />
    <figcaption></figcaption>
</figure>
<p>Choose your modified rom. Then location the character you are overridings main file
Click inject File and choose the file you hex edited.</p>
<figure>
    <img alt="Image title" src="image24_GameConfigurationMenu.png" />
    <figcaption></figcaption>
</figure>
<p>Once injected, write a new rom. One can choose to override the current rom, but remember, if you made a mistake in which file you changed, you will have to do all prior steps again.</p>
<h2 id="step-9-adjusting-the-hurt-boxes">Step 9) Adjusting the Hurt boxes</h2>
<p>I like using bizhawk to do it because you can add all the float32 coordinates to a ram watch and then change the type to float
you have to freeze them and reset training mode for the change to be visible tho
800D81BD 0049 is a gs code that turns hitbox display on
then I would go to 800D6300 which is the main file table, find the file id for the main file and next to it is a pointer to where it's loaded in memory
go to that pointer and scroll down to where the hurtboxes are, then you can select them all and add them to a RAM watch, and change the display type to float
and then freeze them all
then you can freely poke/edit the values and just reset training mode to see it take effect
once you are done you can make a savestate to make sure the frozen values stick, and then load the savestate and copy/paste the hurtboxes out of RAM into the character file
that's how I have always done it anyway, I guess it's kind of a tedious process if you haven't done it before tho</p>
<h2 id="step-10-fix-the-shield-pose">Step 10) Fix the Shield pose</h2>
<p>https://joaorb64.github.io/smash64-modding-wiki/Wiki/characters/shieldpose/#base-shield-pose</p>
<p>Follow these instructions provided by Shino.</p>
<p>As an addendum, The shield pose has two approaches to getting it work. If your shield rig includes withheld parts, you need to import with the following option: Force Re-enabled Skipped Tracks.</p>
<figure>
    <img alt="Image title" src="image25_ShieldOnPose.png" />
    <figcaption></figcaption>
</figure>
<p>This will make sure the animation and the shield pose align. A better approach, is that while following the Shield Pose Guide, while adding in the new root bone, ALSO remove withheld parts. Then you do not need this special option when importing the ShildOn pose.</p>
<h2 id="step-11-import-the-characters-model-data">Step 11) Import the characters model data.</h2>
<p>This rom should be known as your base rom. File sizes get larger and larger the more times you add/tweak change the characters model. Even if you are fixing a color import. Keep this rom and never override it. As if you decided to modify your model, you will go back to this rom.
Go back to the animation editor:</p>
<p>Click import and add textures:</p>
<figure>
    <img alt="Image title" src="image26_ImportTextures.png" />
    <figcaption></figcaption>
</figure>
<p>Follow the steps to import your character. Then save.</p>
<p>Now it is the moment of truth. Lets test the character.</p>
<h2 id="step-12-special-parts">Step 12) Special Parts</h2>
<p>Now that we have the charter model inside the rom, lets also import special parts. Special parts can be alternate models for your character (such as a head swap or a different hand), or can be a model that is hidden and only called in for specific actions (such as Ness's yoyo or Fox's gun.) To set up a special parts, one has to take the character rig, attach the special part to the correct bone in the desired location and then export the rig with just that part attached. Do this for all special parts one wants to import.</p>
<p>Once you have all the model parts exported to separate fbx files,  we need to step through the process to add each part systematically. </p>
<h3 id="step-12a-special-parts-that-already-exist">Step 12a) Special Parts that already exist</h3>
<p>If the bone in question has an old special part that can be replaced, click import from obj if added if the textures have already been imported in a prior step or click import from object and add if you have to add the new textures.</p>
<figure>
    <img alt="Image title" src="image27_SpecialParts.png" />
    <figcaption></figcaption>
</figure>
<p>Follow the prompts. (i.e. select textures, model and special textures)</p>
<p>This will replace the model that is already present. If you notice for example on our rig, Special part 06 has Extra 00 Hi and Extra 00 low. This is the high poly model for the special part and the low poly model for the special part. Make sure to import for both.</p>
<h3 id="step-12b-adding-new-special-parts">Step 12b) Adding new special parts</h3>
<p>Lets look at the rig again to figure out what needs to be added:</p>
<table>
<thead>
<tr>
<th>Blender Bone</th>
<th>Part #</th>
<th>Function</th>
<th>Special Part additions</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Part00</td>
<td>Main bone base</td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>Part01</td>
<td>Hips (No Model attached)</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>Part02</td>
<td>Chest</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>Part03</td>
<td>Socket Joint Left Arm</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>Part04</td>
<td>Left Upper Arm mesh</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>Part05</td>
<td>Left Lower Arm mesh</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>Part06</td>
<td>Left Hand</td>
<td>Flat Hand Special Part</td>
</tr>
<tr>
<td>7</td>
<td>Part07</td>
<td>item joint (Where items are attached to)</td>
<td>Wisp Special Part</td>
</tr>
<tr>
<td>8</td>
<td>Part08</td>
<td>Potential Witheld Magic Part</td>
<td></td>
</tr>
<tr>
<td>9</td>
<td>Part09</td>
<td>Neck (No model attached)</td>
<td></td>
</tr>
<tr>
<td>10</td>
<td>Part0A</td>
<td>head</td>
<td></td>
</tr>
<tr>
<td>11</td>
<td>Part0B</td>
<td>Hair mesh</td>
<td></td>
</tr>
<tr>
<td>12</td>
<td>Part0C</td>
<td>Cape upper mesh</td>
<td></td>
</tr>
<tr>
<td>13</td>
<td>Part0D</td>
<td>Cape Lower mesh</td>
<td></td>
</tr>
<tr>
<td>14</td>
<td>Part0E</td>
<td>Socket Joint Right Arm</td>
<td></td>
</tr>
<tr>
<td>15</td>
<td>Part0F</td>
<td>Right Upper Arm mesh</td>
<td></td>
</tr>
<tr>
<td>16</td>
<td>Part10</td>
<td>Right Lower Arm mesh</td>
<td></td>
</tr>
<tr>
<td>17</td>
<td>Part11</td>
<td>Right Hand</td>
<td></td>
</tr>
<tr>
<td>18</td>
<td>Part12</td>
<td>Staff mesh</td>
<td></td>
</tr>
<tr>
<td>19</td>
<td>Part13</td>
<td>Potential Withheld Magic Part</td>
<td></td>
</tr>
<tr>
<td>20</td>
<td>Part14</td>
<td>Socket Left Joint leg</td>
<td></td>
</tr>
<tr>
<td>21</td>
<td>Part15</td>
<td>Left Upper Leg mesh</td>
<td></td>
</tr>
<tr>
<td>22</td>
<td>Part16</td>
<td>Left Lower Leg mesh</td>
<td></td>
</tr>
<tr>
<td>23</td>
<td>Part17</td>
<td>Left Ankle Joint</td>
<td></td>
</tr>
<tr>
<td>24</td>
<td>Part18</td>
<td>Left Foot</td>
<td></td>
</tr>
<tr>
<td>25</td>
<td>Part19</td>
<td>Socket Right Joint leg</td>
<td></td>
</tr>
<tr>
<td>26</td>
<td>Part1A</td>
<td>Right Upper Leg mesh</td>
<td></td>
</tr>
<tr>
<td>27</td>
<td>Part1B</td>
<td>Right Lower Leg mesh</td>
<td></td>
</tr>
<tr>
<td>28</td>
<td>Part1C</td>
<td>Right Ankle Joint</td>
<td></td>
</tr>
<tr>
<td>29</td>
<td>Part1D</td>
<td>Right Foot</td>
<td></td>
</tr>
<tr>
<td>30</td>
<td>Part1E</td>
<td>Large item joint</td>
<td>Chest Special Part</td>
</tr>
</tbody>
</table>
<p>First, find the bone you want to add the special part to and select it in the drop down menu in the special part section of the animation editor. 
Click Add special part with the correct bone in the drop down menu to add the space for the part.</p>
<figure>
    <img alt="Image title" src="image28_AddSpecialParts.png" />
    <figcaption></figcaption>
</figure>
<p>Given this special part is the first to be added to this specific bone, we just need to follow the standard import steps to add the new model. </p>
<p>If you are adding a new special part to a bone that already has a model attached to it, when you click add special part, a pop up will appear and extra steps need to be followed:</p>
<figure>
    <img alt="Image title" src="image29_AddSpecialPartsPopUp.png" />
    <figcaption></figcaption>
</figure>
<p>This popup it telling us that we need to add a moveset command to any moveset to complete the import. </p>
<figure>
    <img alt="Image title" src="image30_AddSpecialPartseditor.png" />
    <figcaption></figcaption>
</figure>
<p>This window will eventually pop up. One has to click on a command, select “Set Model Form Part” from the Add drop down menu, and add in the correct bone and set the value to 1. </p>
<p>This is one of the few times the editor does not use HEX, but we still have to add +4 to the bone. So, for reference:</p>
<table>
<thead>
<tr>
<th>Blender Bone</th>
<th>Part #</th>
<th>Part</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>30</td>
<td>Part1E</td>
<td>34</td>
<td>1</td>
</tr>
</tbody>
</table>
<figure>
    <img alt="Image title" src="image31_AddNEwSpecialPartsCommand.png" />
    <figcaption></figcaption>
</figure>
<p>Notice in the screenshot that the bone is 34, which then shows the part number and the Hex number in the command window. This is a good gage for if you have put in the correct bone. If you mess up on this step, you need to redo the entire model because you are shooting for the smallest character file one can.</p>
<p>Once the command is added, just click the X to close the window. It will automatically add the model and special part to the correct bone.</p>
<p>Repeat this process for every special part you plan to add.</p>
<p>If you are adding in more special parts to the same bone, the values you use need to be incremented.
The first new addition needs to be value of 1. Whilst the next would be </p>
<figure>
    <img alt="Image title" src="image32_AddNEwSpecialPartsInfo.png" />
    <figcaption></figcaption>
</figure>
<p>If you want to add in more, the value increases (per the instructions above.)
i.e. If we add another special part to Bone 1E, we would have to set the value to 2. And a third special part would have the value of 3.</p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 29, 2026 10:34:42 UTC">January 29, 2026</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["search.suggest", "navigation.tracking", "navigation.expand", "navigation.path", "navigation.tabs", "navigation.indexes", "toc.follow", "toc.integrate", "navigation.top", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>